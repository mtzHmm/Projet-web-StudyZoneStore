<div class="w-full max-w-[240px] h-auto min-h-[400px] relative p-4">
  
  <!-- Search bar -->
  <div class="w-full mb-4">
    <div class="relative">
      <input 
        type="text" 
        [(ngModel)]="searchKeyword"
        (input)="onSearchChange()"
        (keyup)="onSearchChange()"
        placeholder="Search for a product"
        class="w-full h-10 pl-10 pr-4 bg-violet-950 rounded-[20px] text-white placeholder-gray-300 outline-none border border-white/20 focus:border-purple-400 transition-colors text-sm">
      <svg class="w-4 h-4 absolute left-3 top-3 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
      </svg>
    </div>
  </div>

  <!-- Separator -->
  <div class="w-full h-px bg-white/20 mb-4"></div>

  <!-- Price section with horizontal layout -->
  <div class="w-full mb-6">
    <div class="text-white text-sm font-medium mb-4">Price</div>
    
    <div class="w-full flex items-center gap-3">
      <!-- Min Price Input -->
      <div class="flex-1">
        <input 
          type="text" 
          [(ngModel)]="minPrice"
          (input)="onMinPriceInput()"
          (blur)="onMinPriceChange()"
          (keydown.enter)="onMinPriceChange()"
          (keypress)="onKeyPress($event)"
          (paste)="onPaste($event)"
          placeholder="Min"
          [class]="'w-full h-8 px-3 bg-violet-950 rounded-[20px] text-white placeholder-gray-300 outline-none transition-colors text-sm text-center ' + 
                   (showPriceWarning ? 'border border-yellow-400' : 'border border-white/20 focus:border-purple-400')">
      </div>
      
      <!-- Separator -->
      <div class="text-white text-sm">-</div>
      
      <!-- Max Price Input -->
      <div class="flex-1">
        <input 
          type="text" 
          [(ngModel)]="maxPrice"
          (input)="onMaxPriceInput()"
          (blur)="onMaxPriceChange()"
          (keydown.enter)="onMaxPriceChange()"
          (keypress)="onKeyPress($event)"
          (paste)="onPaste($event)"
          placeholder="Max"
          [class]="'w-full h-8 px-3 bg-violet-950 rounded-[20px] text-white placeholder-gray-300 outline-none transition-colors text-sm text-center ' + 
                   (showPriceWarning ? 'border border-yellow-400' : 'border border-white/20 focus:border-purple-400')">
      </div>
    </div>
    
    <!-- Help text with dynamic warning -->
    <div class="text-xs mt-1 text-center">
      <div *ngIf="showPriceWarning" class="text-yellow-400 mt-1">
        ⚠️ Min should be less than Max (will be corrected when you finish typing)
      </div>
    </div>
  </div>

  <!-- Separator -->
  <div class="w-full h-px bg-white/20 mb-4"></div>

  <!-- Favorites filter section -->
  <div class="w-full mb-4">
    <div class="flex items-center justify-between mb-2">
      <span class="text-white text-sm font-normal">Favorites</span>
      <span class="text-gray-400 text-xs">({{favoritesCount}})</span>
    </div>
    <label class="flex items-center cursor-pointer">
      <input 
        type="checkbox" 
        [(ngModel)]="showFavoritesOnly"
        (change)="onFavoritesFilterChange()"
        class="sr-only">
      <div class="relative">
        <div [class]="'w-10 h-6 rounded-full transition-colors duration-200 ' + 
                     (showFavoritesOnly ? 'bg-yellow-500' : 'bg-gray-600')">
        </div>
        <div [class]="'absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform duration-200 ' + 
                     (showFavoritesOnly ? 'transform translate-x-4' : '')">
        </div>
      </div>
      <span class="ml-3 text-white text-sm">
        {{showFavoritesOnly ? 'Show all products' : 'Show favorites only'}}
      </span>
      <div *ngIf="showFavoritesOnly" class="ml-2">
        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
      </div>
    </label>
  </div>

  <!-- Separator -->
  <div class="w-full h-px bg-white/20 mb-4"></div>

  <!-- Categories section -->
  <div class="w-full flex flex-col justify-start items-start gap-2 mb-3">
    <div class="self-stretch justify-start text-white text-sm font-normal">Categories</div>
    <div class="w-full relative">
      <select 
        [(ngModel)]="selectedCategory"
        (change)="onCategoryChange()"
        class="w-full h-8 bg-violet-950 rounded-[20px] text-white text-xs border border-white/20 focus:border-purple-400 outline-none px-3 pr-8 appearance-none cursor-pointer">
        <option value="" class="bg-violet-950 text-white">All categories</option>
        <option 
          *ngFor="let category of categories" 
          [value]="category.name" 
          class="bg-violet-950 text-white">
          {{ category.name }}
        </option>
      </select>
      <!-- Custom arrow -->
      <div class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none">
        <svg class="w-3 h-3 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </div>
    </div>
  </div>

</div>
